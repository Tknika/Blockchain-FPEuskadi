<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>{{ title }}</h1>
    <a href="{{ url_for('logout') }}">Salir</a>
    <hr>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
        <hr>
      {% endif %}
    {% endwith %}
    <div class="form-container">
        <hr>
        <div class="forms-list">
            <h2>Tus lotes</h2>
            <ul>
                {% for form in forms %}
                    <li>
                        Responsable: {{ form.responsable }}, Lote: {{ form.lote }}, Fecha: {{ form.fecha_elaboracion.strftime('%d-%m-%Y') }}
                        <a href="{{ url_for('edit_form', form_id=form.id) }}">Editar</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    </li>
                {% else %}
                    <li>No se han encontrado lotes</li>
                {% endfor %}
            </ul>
        </div>
        <hr>
        <h2>{{ nuevo_editar }}</h2>
        <form action="" method="post">
            {{ form.hidden_tag() }}
            <div class="form-group">
                {{ form.responsable.label }}<br>
                {{ form.responsable(size=20) }}<br>
                {% for error in form.responsable.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
            <div class="form-group">
                {{ form.lote.label }}<br>
                {{ form.lote(size=20) }}<br>
                {% for error in form.lote.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
            <div class="form-group">
                {{ form.fecha_elaboracion.label }}<br>
                {{ form.fecha_elaboracion(size=20) }}<br>
                {% for error in form.fecha_elaboracion.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
            <div class="form-group">
                {{ form.submit() }}
            </div>
        </form>
    </div>
</body>
</html>
